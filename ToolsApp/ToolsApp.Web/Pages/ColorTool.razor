@page "/color-tool"


<!-- static text assigned to the parameter -->
<ToolHeader HeaderText="Color Tool"></ToolHeader>

<!-- razor expression assigned to the parameter -->
<ToolHeader HeaderText="@headerText"></ToolHeader>

<ul>
  @foreach(var color in Colors)
  {
    <li>@color.Name - @color.HexCode</li>
  }
</ul>


<form>
  <label>
    Name:
    <input type="text" @bind="colorForm.Name" />
  </label>
  <label>
    Hex Code:
    <input type="text" @bind="colorForm.HexCode" />
  </label>
  <button type="button" @onclick="@AddColor">Add Color</button>
</form>

@code {

  private string headerText = "Color Tool";

  private ColorFormModel colorForm = new();

  public List<IColor> Colors { get; set; } = new List<IColor>()
  {
    new Color() { Id = 1, Name="red", HexCode="ff0000" },
    new Color() { Id = 2, Name="green", HexCode="00ff00" },
    new Color() { Id = 3, Name="blue", HexCode="0000ff" }
  };

  public void AddColor()
  {
    var color = new Color { Name = colorForm.Name, HexCode = colorForm.HexCode };
    color.Id = Colors.Any() ? Colors.Max(c => c.Id) + 1 : 1;
    Colors.Add(color);
    colorForm = new();
  }

  class ColorFormModel
  {
    public string Name { get; set; }
    public string HexCode { get; set; }
  }

}
